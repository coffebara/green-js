<!-- 문자열은 이터러블입니다
배열과 문자열은 가장 광범위하게 쓰이는 내장 이터러블입니다.

for..of는 문자열의 각 글자를 순회합니다.-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        for(let char of "test"){
            // 글자 하나당 한 번 실행됩니다(4회 호출).
            alert(char);    //t, e, s, t가 차례대로 출력됨
        }

        // UTF-16은 보조 문자를 서로게이트 쌍으로 처리합니다. 운영 체제는 간격 없는 표시를 처리하는 방식과 유사하게 서로 게티으 쌍을
        // 처리합니다. 표시 시 서로게이트 쌍은 유니코드 표준에서 규정한 대로 유니스크립브를 통해 하나의 문자모양으로 표시됩니다.

        let str = '😊é';
        for (let char of str) {
            alert(char); // 😊와 é가 차레대로 출력됨'
        }

        // 이터레이터를 명시적으로 호출하기
        // for..of를 사용하는 것보다 반복 과정을 더 잘 통제할 수 있다는 장점이 있습니다. 반복을 시작했다가 잠시 멈춰 다른 작업을 하다가
        // 다시 반복을 시작하는 것과 같이 반복과정을 여거 개로 쪼개는 것이 가능합니다.

        let str2 = "Hello";

        // for..of를 사용한 것과 동일한 작업을 합니다.
        // for (let char of str) alert(char);

        let iterator = str2[Symbol.iterator]();

        while(true) {
            let result = iterator.next();
            if (result.done){
                break;
            } 
            alert(result.value);    // 글자가 하나씩 출력됩니다.
        }
        // 이터러블과 유사 배열
        // 비슷해 보이지만 아주 다른 용어가 두 가지 있습니다. 헷갈리지 않으려면 두 용어를 잘 이해하고 있어야 합니다.
        
        // 이터러블(iterable)은 위에서 설명한 바와 같이 메서드 Symbol.iterator가 구현된 객체입니다.
        // 유사 배열(array-like)은 인덱스와 length 프로퍼티가 있어서 배열처럼 보이는 객체입니다.
        // 이터러블 객체(for..of를 사용할 수 있음)이면서 유사배열 객체(숫자 인덱스와 length 프로퍼티가 있음)인
        // 문자열이 대표적인 예입니다.

        // str2[Symbol.iterator](); 의 의미는
        // str2[Symbol.iterator]는 문자열 str2의 이터레이터(iterator) 객체를 반환합니다.
        // 이터레이터 객체는 next() 메서드를 가지며, 호출할 때마다 다음 값을 반환합니다.
        // 따라서 str2[Symbol.iterator]()는 str의 이터레이터 객체를 반환하는 것이 아니라,
        // 이터레이터 객체의 next() 메서드를 반환합니다.
        // 이후에 next() 메서드를 호출해서 str의 각 문자를 차례로 순회할 수 있습니다.
    </script>
</body>
</html>